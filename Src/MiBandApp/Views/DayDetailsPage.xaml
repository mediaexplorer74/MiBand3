<Page xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
      xmlns:core="using:Microsoft.Xaml.Interactions.Core" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:gregstoll="using:Gregstoll" 
      xmlns:interactivity="using:Microsoft.Xaml.Interactivity" 
      xmlns:local="using:MiBandApp.Views" 
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:viewModels="using:MiBandApp.ViewModels" 
      x:Class="MiBandApp.Views.DayDetailsPage">
    <Page.Style>
        <StaticResource ResourceKey="DefaultPageStyle" />
    </Page.Style>
    <Grid>
        <Grid>
            <!--Grid.Margin>
                <StaticResource ResourceKey="RootContainerThickness" />
            </Grid.Margin-->
            <Grid.RowDefinitions>               
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                    <RowDefinition Height="Auto" />               
            </Grid.RowDefinitions>
            <StackPanel>
                    <StackPanel Grid.Row="0">
                    <Grid>
                        <TextBlock>
                            <TextBlock.Style>
                                <StaticResource ResourceKey="AppTitleStyle" />
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Uid="DayDetailsPageTitle" Text="history">
                            <TextBlock.Style>
                                <StaticResource ResourceKey="PageTitleStyle" />
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>
                </StackPanel>
            <TextBlock Grid.Row="1">
            <TextBlock.Style>
              <StaticResource ResourceKey="SecondaryPageHeaderTextBlockStyle" />
            </TextBlock.Style>
            <TextBlock.Text>
               <Binding Path="Date" Converter="{StaticResource StringFormatConverter}">              
              </Binding>
            </TextBlock.Text>
                </TextBlock>
                <ScrollViewer Grid.Row="2" Margin="0,20,0,0" VerticalScrollBarVisibility="Visible" VerticalScrollMode="Enabled">
                <ScrollViewer.Content>
                    <StackPanel Margin="0,5,0,10" VerticalAlignment="Stretch">
                        <StackPanel.Resources>
                            <ResourceDictionary>
                                <Style x:Key="SecondaryDetailsTextBlockStyle" TargetType="TextBlock">
                                    <Style.BasedOn>
                                        <StaticResource ResourceKey="BodyTextBlockStyle" />
                                    </Style.BasedOn>
                                    <Style.Setters>

                                        <Setter Property="FontSize" Value="16" />
                                        <Setter Property="Margin" Value="0 0 20 0" />

                                    </Style.Setters>
                                </Style>
                            </ResourceDictionary>
                        </StackPanel.Resources>

                    <Grid>
                     <TextBlock x:Uid="DayDetailsPageStepsHeader">
                      <TextBlock.Style>
                        <StaticResource ResourceKey="ControlHeaderTextBlockStyle" />
                      </TextBlock.Style>
                      <TextBlock.Inlines>
                        <Run Text="Steps walked" />
                      </TextBlock.Inlines>
                    </TextBlock>
                    <TextBlock FontSize="40">
                        <TextBlock.Inlines>                    
                          <Run>
                             <Run.Text>
                              <Binding Path="Steps" />
                            </Run.Text>
                          </Run>                        
                      </TextBlock.Inlines>
                     </TextBlock>
                        <ProgressBar Minimum="0">
                            <ProgressBar.Foreground>
                                <StaticResource ResourceKey="AppAccentBrush" />
                            </ProgressBar.Foreground>
                            <ProgressBar.Maximum>
                                <Binding Path="StepsGoal" />
                            </ProgressBar.Maximum>
                            <ProgressBar.Value>
                                <Binding Path="Steps" />
                            </ProgressBar.Value>
                        </ProgressBar>
                            <gregstoll:UniversalWrapPanel Orientation="Horizontal">
                                <Grid>
                             <TextBlock>
                             <TextBlock.Style>
                              <StaticResource ResourceKey="SecondaryDetailsTextBlockStyle" />
                            </TextBlock.Style>
                            <TextBlock.Text>
                               <Binding Path="Distance" Converter="{StaticResource DistanceKmToFormattedStringConverter}">                             
                              </Binding>
                            </TextBlock.Text>
                           </TextBlock>
                          <TextBlock>
                            <TextBlock.Style>
                              <StaticResource ResourceKey="SecondaryDetailsTextBlockStyle" />
                            </TextBlock.Style>
                             <TextBlock.Text>
                               <Binding Path="Calories" Converter="{StaticResource CaloriesToFormattedStringConverter}">                               
                              </Binding>
                            </TextBlock.Text>
                           </TextBlock>
                        </Grid>
                    </gregstoll:UniversalWrapPanel>
                        
                    <TextBlock x:Uid="DayDetailsPageSleepHeader" Margin="0,20,0,0">
                      <TextBlock.Style>
                        <StaticResource ResourceKey="ControlHeaderTextBlockStyle" />
                      </TextBlock.Style>
                      <TextBlock.Inlines>
                        <Run Text="Sleep time" />
                      </TextBlock.Inlines>
                     </TextBlock>
                    <TextBlock FontSize="40">
                      <TextBlock.Inlines>                       
                          <Run>
                            <Run.Text>
                              <Binding Path="SleepMinutes" Converter="{StaticResource MinutesToStringConverter}">                              
                              </Binding>
                            </Run.Text>
                          </Run>                      
                      </TextBlock.Inlines>
                            </TextBlock>
                            <ProgressBar Minimum="0">
                                    <ProgressBar.Foreground>
                                    <StaticResource ResourceKey="AppSleepBrush" />
                                </ProgressBar.Foreground>
                                    <ProgressBar.Maximum>
                                    <Binding Path="SleepGoal" />
                                </ProgressBar.Maximum>
                                    <ProgressBar.Value>
                                    <Binding Path="SleepMinutes" />
                                </ProgressBar.Value>
                      </ProgressBar>
                       <gregstoll:UniversalWrapPanel Orientation="Horizontal">
                      <Grid>
                       <TextBlock>
                        <TextBlock.Style>
                       <StaticResource ResourceKey="SecondaryDetailsTextBlockStyle" />
                       </TextBlock.Style>
                         <TextBlock.Inlines>                             
                                <Run x:Uid="SleepingActivityDeepSleep" Text="Deep sleep" />
                                <Run Text=": " />
                                <Run>
                                  <Run.Text>
                                     <Binding Path="DeepSleepMinutes" Converter="{StaticResource MinutesToStringConverter}">                                      
                                    </Binding>
                                  </Run.Text>
                                </Run>                          
                            </TextBlock.Inlines>
                           </TextBlock>
                           </Grid>
                        </gregstoll:UniversalWrapPanel>
                        <ContentControl x:Name="ActivitiesListViewModel" Margin="0,30,0,0"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch" />
                      </Grid>
                    </StackPanel>
                   </ScrollViewer.Content>
                </ScrollViewer>
                <TextBlock Grid.Row="3" VerticalAlignment="Bottom">
            <TextBlock.Style>
              <ThemeResource ResourceKey="GrayTextBlockStyle" />
            </TextBlock.Style>
            <TextBlock.Inlines>             
                <Run Text="← " />
                <Run x:Uid="PressBackButton" Text="Press back button when you are done." />            
            </TextBlock.Inlines>
           </TextBlock>
          </StackPanel>
        </Grid>
    </Grid>
</Page>
