<Page xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="using:MiBandApp.Views" 
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:viewModels="using:MiBandApp.ViewModels" 
      x:Class="MiBandApp.Views.FirmwareUpgradePage">
    <Page.Style>
        <StaticResource ResourceKey="DefaultPageStyle" />
    </Page.Style>
    <Page.Content>
        <Grid>
            <Margin>
                <StaticResource ResourceKey="RootContainerThickness" />
            </Margin>
            <RowDefinitions>
                <RowDefinitionCollection>
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                </RowDefinitionCollection>
            </RowDefinitions>
            <Children>
                <UIElementCollection>
                    <StackPanel Row="0">
                        <Children>
                            <UIElementCollection>
                                <TextBlock>
                  <Style>
                    <StaticResource ResourceKey="AppTitleStyle" />
                  </Style>
                                </TextBlock>
                                <TextBlock x:Uid="FirmwareUpgradePage_Title" Text="firmware upgrade">
                  <Style>
                    <StaticResource ResourceKey="PageTitleStyle" />
                  </Style>
                                </TextBlock>
                            </UIElementCollection>
                        </Children>
                    </StackPanel>
                    <Grid Row="1" Margin="0,20,0,0" VerticalAlignment="Stretch">
                        <Visibility>
                            <Binding Path="HasUpgradeStarted" ConverterParameter="False">
                                <Converter>
                                    <StaticResource ResourceKey="BoolToVis" />
                                </Converter>
                            </Binding>
                        </Visibility>
                        <RowDefinitions>
                            <RowDefinitionCollection>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </RowDefinitionCollection>
                        </RowDefinitions>
                        <Children>
                            <UIElementCollection>
                                <ScrollViewer Row="0">
                                    <Content>
                                        <TextBlock x:Uid="FirmwareUpgradePage_Warning" Margin="1,1,1,1" FontSize="20" FontWeight="Light" LineHeight="30" TextWrapping="Wrap">
                      <Style>
                        <StaticResource ResourceKey="BodyTextBlockStyle" />
                      </Style>
                      <Inlines>
                        <InlineCollection>
                          <Run Text="This application is not official Mi Band app, so firmware upgrade can cause unpredictable effects. Your Mi Band can be damaged or come out of order. We are not responsible for any possible harm." />
                          <LineBreak />
                          <LineBreak />
                          <Run Text="We strongly recommend to use official Mi Fit application to upgrade firmware of your Mi Band." />
                          <LineBreak />
                          <LineBreak />
                          <Run Text="You are performing this action on your own risk!" />
                        </InlineCollection>
                      </Inlines>
                                        </TextBlock>
                                    </Content>
                                </ScrollViewer>
                                <StackPanel Row="1" VerticalAlignment="Bottom">
                                    <Children>
                                        <UIElementCollection>
                                            <CheckBox x:Uid="FirmwareUpgradePage_AgreeCheckBox" x:Name="AgreeCheckBox" Content="I understand and totally agree" />
                                            <Button x:Uid="FirmwareUpgradePage_StartUpgrade" x:Name="StartUpgrade" HorizontalAlignment="Left" Content="start upgrade">
                                                <IsEnabled>
                                                    <Binding ElementName="AgreeCheckBox" Path="IsChecked" />
                                                </IsEnabled>
                                            </Button>
                                        </UIElementCollection>
                                    </Children>
                                </StackPanel>
                            </UIElementCollection>
                        </Children>
                    </Grid>
                    <Grid Row="1">
                        <Visibility>
                            <Binding Path="HasUpgradeStarted">
                                <Converter>
                                    <StaticResource ResourceKey="BoolToVis" />
                                </Converter>
                            </Binding>
                        </Visibility>
                        <RowDefinitions>
                            <RowDefinitionCollection>
                                <RowDefinition />
                                <RowDefinition Height="20px" />
                                <RowDefinition />
                            </RowDefinitionCollection>
                        </RowDefinitions>
                        <Children>
                            <UIElementCollection>
                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Bottom" TextAlignment="Center" TextWrapping="Wrap">
                  <Style>
                    <StaticResource ResourceKey="SubheaderTextBlockStyle" />
                  </Style>
                  <Text>
                    <Binding Path="ActionTitle" />
                  </Text>
                                </TextBlock>
                                <ProgressBar Row="1" Maximum="100" Minimum="0">
                                    <IsIndeterminate>
                                        <Binding Path="IsProgressIndeterminate" />
                                    </IsIndeterminate>
                                    <Value>
                                        <Binding Path="ProgressPercent" />
                                    </Value>
                                </ProgressBar>
                                <TextBlock Row="2" HorizontalAlignment="Center" VerticalAlignment="Top" TextAlignment="Center" TextWrapping="Wrap">
                  <Text>
                    <Binding Path="ActionDetails" />
                  </Text>
                                </TextBlock>
                            </UIElementCollection>
                        </Children>
                    </Grid>
                    <Button x:Uid="FirmwareUpgradePage_Exit" x:Name="Exit" Row="1" HorizontalAlignment="Right" VerticalAlignment="Bottom" Content="exit">
                        <Visibility>
                            <Binding Path="IsExitButtonVisible">
                                <Converter>
                                    <StaticResource ResourceKey="BoolToVis" />
                                </Converter>
                            </Binding>
                        </Visibility>
                    </Button>
                </UIElementCollection>
            </Children>
        </Grid>
    </Page.Content>
</Page>

<!--Page
    x:Class="MiBandApp.Views.FirmwareUpgradePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MiBandApp.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>

    </Grid>
</Page-->
